# -*- coding: utf-8 -*-
# ###
# Copyright (c) 2013, Rice University
# This software is subject to the provisions of the GNU Affero General
# Public License version 3 (AGPLv3).
# See LICENCE.txt for details.
# ###
import os
import io
import json
import unittest
try:
    from unittest import mock
except ImportError:
    import mock


here = os.path.abspath(os.path.dirname(__file__))
TEST_DATA_DIR = os.path.join(here, 'data')


class BaseModelTestCase(unittest.TestCase):

    def make_binder(self, id=None, nodes=None, metadata=None):
        """Make a ``Binder`` instance.
        If ``id`` is not supplied, a ``TranslucentBinder`` is made.
        """
        from ..models import Binder, TranslucentBinder
        if id is None:
            binder = TranslucentBinder(nodes, metadata)
        else:
            binder = Binder(id, nodes, metadata)
        return binder

    def make_document(self, id, content=b'', metadata={}):
        from ..models import Document
        return Document(id, io.BytesIO(content), metadata=metadata)

    def make_document_pointer(self, ident_hash, metadata={}):
        from ..models import DocumentPointer
        return DocumentPointer(ident_hash, metadata=metadata)

    def make_resource(self, *args, **kwargs):
        from ..models import Resource
        return Resource(*args, **kwargs)


class ModelAttributesTestCase(BaseModelTestCase):

    def test_binder_attribs(self):
        binder = self.make_binder('8d75ea29@3')

        self.assertEqual(binder.id, '8d75ea29')
        self.assertEqual(binder.ident_hash, '8d75ea29@3')
        self.assertEqual(binder.metadata['version'], '3')

        binder.ident_hash = '67e4ag@4.5'
        self.assertEqual(binder.id, '67e4ag')
        self.assertEqual(binder.ident_hash, '67e4ag@4.5')
        self.assertEqual(binder.metadata['version'], '4.5')

        with self.assertRaises(ValueError) as caughtexception:
            binder.ident_hash = '67e4ag'
            self.assertContains(caughtexception, 'requires version')

        del binder.id
        with self.assertRaises(AttributeError) as caughtexception:
            _ = binder.id
            self.assertContains(caughtexception, 'object has no attribute')

        binder.id = '456@2'
        self.assertEqual(binder.id, '456')
        self.assertEqual(binder.ident_hash, '456@2')
        self.assertEqual(binder.metadata['version'], '2')

    def test_document_attribs(self):
        document = self.make_document('8d75ea29@3')

        self.assertEqual(document.id, '8d75ea29')
        self.assertEqual(document.ident_hash, '8d75ea29@3')
        self.assertEqual(document.metadata['version'], '3')

        document.ident_hash = '67e4ag@4.5'
        self.assertEqual(document.id, '67e4ag')
        self.assertEqual(document.ident_hash, '67e4ag@4.5')
        self.assertEqual(document.metadata['version'], '4.5')

        with self.assertRaises(ValueError) as caughtexception:
            document.ident_hash = '67e4ag'
            self.assertContains(caughtexception, 'requires version')

        del document.id
        with self.assertRaises(AttributeError) as caughtexception:
            _ = document.id
            self.assertContains(caughtexception, 'object has no attribute')

        document.id = '456@2'
        self.assertEqual(document.id, '456')
        self.assertEqual(document.ident_hash, '456@2')
        self.assertEqual(document.metadata['version'], '2')


class PrivateUtilitiesTestCase(unittest.TestCase):

    def test_sanitize_xml(self):
        from ..models import _sanitize_xml as target
        xml_namespaces = ' '.join([
            'xmlns:bib="http://bibtexml.sf.net/"',
            'xmlns:data="http://www.w3.org/TR/html5/dom.html#custom-data-attribute"',
            'xmlns:epub="http://www.idpf.org/2007/ops"',
            'xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"',
            'xmlns:dc="http://purl.org/dc/elements/1.1/"',
            'xmlns:lrmi="http://lrmi.net/the-specification"',
            ])

        # Sanitize loose elements.
        content = "<p {0}>aaa bbb</p><p {0}>bbb aaa</p>".format(xml_namespaces)
        xml = target(content)
        self.assertEqual(xml, '<p>aaa bbb</p><p>bbb aaa</p>')

        # Sanitize content with a pre-existing wrapping element.
        content = "<div {0}><p {0}>aaa bbb</p><p {0}>bbb aaa</p></div>" \
            .format(xml_namespaces)
        xml = target(content)
        self.assertEqual(xml, '<div><p>aaa bbb</p><p>bbb aaa</p></div>')

        # Sanitize content that does not contain tags.
        content = "aaa bbb"
        xml = target(content)
        self.assertEqual(xml, 'aaa bbb')

        # Sanitize content with recover=False
        content = '<img src="aaa_bbb.png"/>'
        xml = target(content, recover=False)
        self.assertEqual(xml, '<img src="aaa_bbb.png"/>')

    def test_sanitize_xml_not_html(self):
        # self.maxDiff = None
        from ..models import _sanitize_xml as target
        content = u"""<div xmlns:m="http://www.w3.org/1998/Math/MathML" data-cnxml-to-html-ver="1.3.1+8.gecfdb1c" data-type="page" id="8769028f-354b-4fd8-94ec-15f105feae24"><h2 data-type="document-title" id="56279"><span class="os-number">10.5</span><span class="os-divider"> </span><span class="os-text">RC Circuits</span></h2><div data-type="abstract" id="31961"><h3 data-type="title">Learning Objectives</h3>By the end of the section, you will be able to:\n<ul>\n<li>Describe the charging process of a capacitor</li>\n<li>Describe the discharging process of a capacitor</li>\n<li>List some applications of RC circuits</li>\n</ul></div>\n\n\n\n<p id="fs-id1172101891012">When you use a flash camera, it takes a few seconds to charge the capacitor that powers the flash. The light flash discharges the capacitor in a tiny fraction of a second. Why does charging take longer than discharging? This question and several other phenomena that involve charging and discharging capacitors are discussed in this module.</p>\n\n\n\n<section data-depth="1" id="fs-id1172101914334"><h3 data-type="title">Circuits with Resistance and Capacitance</h3>\n<p id="fs-id1172101965263">An <span data-type="term" id="term336" group-by="R"><em data-effect="italics">RC</em> circuit</span> is a circuit containing resistance and capacitance. As presented in <a class="target-chapter" href="/contents/e55a79d3-55b7-4557-9270-3a7e7a86dc26">Capacitance</a>, the capacitor is an electrical component that stores electric charge, storing energy in an electric field.</p>\n<p id="fs-id1172099746426"><a class="autogenerated-content" href="#CNX_UPhysics_27_05_RCCircuit">Figure 10.38</a>(a) shows a simple <em data-effect="italics">RC</em> circuit that employs a dc (direct current) voltage source <math display="inline"><semantics><mrow><mi>&#949;</mi></mrow><annotation-xml encoding="MathML-Content"><mi>&#949;</mi></annotation-xml></semantics></math>, a resistor <em data-effect="italics">R</em>, a capacitor <em data-effect="italics">C</em>, and a two-position switch. The circuit allows the capacitor to be charged or discharged, depending on the position of the switch. When the switch is moved to position <em data-effect="italics">A</em>, the capacitor charges, resulting in the circuit in part (b). When the switch is moved to position <em data-effect="italics">B</em>, the capacitor discharges through the resistor.</p>\n<div class="os-figure"><figure id="CNX_UPhysics_27_05_RCCircuit">\n<span data-alt="Part a shows an open circuit with three branches, left branch is a voltage source with upward positive terminal connected to point A, the middle branch is a short circuit with point B and right branch is a resistor with a capacitor. Part b shows circuit of part a with first branch connected to third branch. Part c shows circuit of part a with second branch connected to third branch." data-type="media" id="fs-id1172099878015">\n<img alt="Part a shows an open circuit with three branches, left branch is a voltage source with upward positive terminal connected to point A, the middle branch is a short circuit with point B and right branch is a resistor with a capacitor. Part b shows circuit of part a with first branch connected to third branch. Part c shows circuit of part a with second branch connected to third branch." data-media-type="image/jpeg" id="20607" src="../resources/457cc2f5968b3e6796f5358b12019ccec7316db3"/>\n</span>\n\n</figure><div class="os-caption-container"><span class="os-title-label">Figure </span><span class="os-number">10.38</span><span class="os-divider"> </span><span class="os-divider"> </span><span class="os-caption">(a) An <em data-effect="italics">RC</em> circuit with a two-pole switch that can be used to charge and discharge a capacitor. (b) When the switch is moved to position <em data-effect="italics">A</em>, the circuit reduces to a simple series connection of the voltage source, the resistor, the capacitor, and the switch. (c) When the switch is moved to position <em data-effect="italics">B</em>, the circuit reduces to a simple series connection of the resistor, the capacitor, and the switch. The voltage source is removed from the circuit.</span></div></div>\n</section>\n\n\n\n<section data-depth="1" id="fs-id1172101790526"><h3 data-type="title">Charging a Capacitor</h3>\n<p id="fs-id1172097266009">We can use Kirchhoff&#8217;s loop rule to understand the charging of the capacitor. This results in the equation <math display="inline"><semantics><mrow><mrow><mi>&#949;</mi><mo>&#8722;</mo><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#949;</mi><mo>&#8722;</mo><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn><mo>.</mo></mrow></annotation-xml></semantics></math> This equation can be used to model the charge as a function of time as the capacitor charges. Capacitance is defined as <math display="inline"><semantics><mrow><mrow><mi>C</mi><mo>=</mo><mi>q</mi><mtext>/</mtext><mi>V</mi><mo>,</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>C</mi><mo>=</mo><mi>q</mi><mtext>/</mtext><mi>V</mi><mo>,</mo></mrow></annotation-xml></semantics></math> so the voltage across the capacitor is <math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mi>C</mi></msub><mo>=</mo><mfrac><mi>q</mi><mi>C</mi></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mi>C</mi></msub><mo>=</mo><mfrac><mi>q</mi><mi>C</mi></mfrac></mrow></annotation-xml></semantics></math>. Using Ohm&#8217;s law, the potential drop across the resistor is <math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mi>R</mi></msub><mo>=</mo><mi>I</mi><mi>R</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mi>R</mi></msub><mo>=</mo><mi>I</mi><mi>R</mi></mrow></annotation-xml></semantics></math>, and the current is defined as <math display="inline"><semantics><mrow><mrow><mi>I</mi><mo>=</mo><mi>d</mi><mi>q</mi><mtext>/</mtext><mi>d</mi><mi>t</mi><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>I</mi><mo>=</mo><mi>d</mi><mi>q</mi><mtext>/</mtext><mi>d</mi><mi>t</mi><mo>.</mo></mrow></annotation-xml></semantics></math></p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172099924458"><math display="block"><semantics><mrow><mtable><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>I</mi><mi>R</mi><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>R</mi><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0.</mn></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>I</mi><mi>R</mi><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>R</mi><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0.</mn></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<p id="fs-id1172102124804">This differential equation can be integrated to find an equation for the charge on the capacitor as a function of time.</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172099642149"><math display="block"><semantics><mrow><mtable><mtr/><mtr/><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>R</mi><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>q</mi></munderover><mrow><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>t</mi></munderover><mrow><mi>d</mi><mi>t</mi></mrow></mrow></mstyle></mrow></mrow></mstyle><mo>.</mo></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr/><mtr/><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>R</mi><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>q</mi></munderover><mrow><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>t</mi></munderover><mrow><mi>d</mi><mi>t</mi></mrow></mrow></mstyle></mrow></mrow></mstyle><mo>.</mo></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<p id="fs-id1172101907363">Let <math display="inline"><semantics><mrow><mrow><mi>u</mi><mo>=</mo><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>u</mi><mo>=</mo><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow></annotation-xml></semantics></math>, then <math display="inline"><semantics><mrow><mrow><mi>d</mi><mi>u</mi><mo>=</mo><mtext>&#8722;</mtext><mi>d</mi><mi>q</mi><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>d</mi><mi>u</mi><mo>=</mo><mtext>&#8722;</mtext><mi>d</mi><mi>q</mi><mo>.</mo></mrow></annotation-xml></semantics></math> The result is</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172101792242"><math display="block"><semantics><mrow><mtable><mtr/><mtr/><mtr/><mtr/><mtr/><mtr><mtd columnalign="left"><mo>&#8722;</mo><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>q</mi></munderover><mrow><mfrac><mrow><mi>d</mi><mi>u</mi></mrow><mi>u</mi></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>t</mi></munderover><mrow><mi>d</mi><mi>t</mi></mrow></mrow></mstyle></mrow></mrow></mstyle><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mo>&#8722;</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mi>t</mi><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi></mrow></mfrac><mo>=</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mfrac bevelled="true"><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>.</mo></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr/><mtr/><mtr/><mtr/><mtr/><mtr><mtd columnalign="left"><mo>&#8722;</mo><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>q</mi></munderover><mrow><mfrac><mrow><mi>d</mi><mi>u</mi></mrow><mi>u</mi></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>t</mi></munderover><mrow><mi>d</mi><mi>t</mi></mrow></mrow></mstyle></mrow></mrow></mstyle><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mo>&#8722;</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mi>t</mi><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi></mrow></mfrac><mo>=</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mfrac bevelled="true"><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>.</mo></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<p id="fs-id1172099558667">Simplifying results in an equation for the charge on the charging capacitor as a function of time:</p>\n<div class="equation-callout" data-type="note" id="fs-id1172099501398">\n<div data-label="" data-type="equation" id="fs-id1172099597073"><math display="block"><semantics><mrow><mrow><mi>q</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup></mrow><mo>)</mo></mrow><mo>=</mo><mi>Q</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mi>&#964;</mi></mfrac></mrow></msup></mrow><mo>)</mo><mo>.</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>q</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup></mrow><mo>)</mo></mrow><mo>=</mo><mi>Q</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mi>&#964;</mi></mfrac></mrow></msup></mrow><mo>)</mo><mo>.</mo></mrow></mrow></annotation-xml></semantics></math><div class="os-equation-number"><span class="os-number">(10.8)</span></div></div>\n</div>\n<p id="fs-id1172097199932">A graph of the charge on the capacitor versus time is shown in <a class="autogenerated-content" href="#CNX_UPhysics_27_05_ChargeRC">Figure 10.39</a>(a). First note that as time approaches infinity, the exponential goes to zero, so the charge approaches the maximum charge <math display="inline"><semantics><mrow><mrow><mi>Q</mi><mo>=</mo><mi>C</mi><mi>&#949;</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>Q</mi><mo>=</mo><mi>C</mi><mi>&#949;</mi></mrow></annotation-xml></semantics></math> and has units of coulombs. The units of <em data-effect="italics">RC</em> are seconds, units of time. This quantity is known as the <span class="no-emphasis" data-type="term" id="term337" group-by="t">time constant</span>:</p>\n<div class="equation-callout" data-type="note" id="fs-id1172099811314">\n<div data-label="" data-type="equation" id="fs-id1172099451719"><math display="block"><semantics><mrow><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi><mo>.</mo></mrow></annotation-xml></semantics></math><div class="os-equation-number"><span class="os-number">(10.9)</span></div></div>\n</div>\n<p id="fs-id1172099835834">At time <math display="inline"><semantics><mrow><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi></mrow></annotation-xml></semantics></math>, the charge is equal to <math display="inline"><semantics><mrow><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mn>&#8722;1</mn></mrow></msup><mo>=</mo><mn>1</mn><mo>&#8722;</mo><mn>0.368</mn><mo>=</mo><mn>0.632</mn></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mn>&#8722;1</mn></mrow></msup><mo>=</mo><mn>1</mn><mo>&#8722;</mo><mn>0.368</mn><mo>=</mo><mn>0.632</mn></mrow></annotation-xml></semantics></math> of the maximum charge <math display="inline"><semantics><mrow><mrow><mi>Q</mi><mo>=</mo><mi>C</mi><mi>&#949;</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>Q</mi><mo>=</mo><mi>C</mi><mi>&#949;</mi></mrow></annotation-xml></semantics></math>. Notice that the time rate change of the charge is the slope at a point of the charge versus time plot. The slope of the graph is large at time <math display="inline"><semantics><mrow><mrow><mi>t</mi><mo>=</mo><mn>0.0</mn><mspace width="0.2em"/><mtext>s</mtext></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>t</mi><mo>=</mo><mn>0.0</mn><mspace width="0.2em"/><mtext>s</mtext></mrow></annotation-xml></semantics></math> and approaches zero as time increases.</p>\n<p id="fs-id1172102132072">As the charge on the capacitor increases, the current through the resistor decreases, as shown in <a class="autogenerated-content" href="#CNX_UPhysics_27_05_ChargeRC">Figure 10.39</a>(b). The current through the resistor can be found by taking the time derivative of the charge.</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172102111860"><math display="block"><semantics><mrow><mtable><mtr/><mtr/><mtr><mtd columnalign="left"><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mi>d</mi><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mrow><mo>[</mo><mrow><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup></mrow><mo>)</mo></mrow></mrow><mo>]</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow><mo>)</mo></mrow><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>=</mo><mfrac><mi>&#949;</mi><mi>R</mi></mfrac><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>=</mo><msub><mi>I</mi><mi>o</mi></msub><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>,</mo></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr/><mtr/><mtr><mtd columnalign="left"><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mi>d</mi><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mrow><mo>[</mo><mrow><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup></mrow><mo>)</mo></mrow></mrow><mo>]</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow><mo>)</mo></mrow><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>=</mo><mfrac><mi>&#949;</mi><mi>R</mi></mfrac><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>=</mo><msub><mi>I</mi><mi>o</mi></msub><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>,</mo></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<div class="equation-callout" data-type="note" id="fs-id1172101986557">\n<div data-label="" data-type="equation" id="fs-id1172101804668"><math display="block"><semantics><mrow><mrow><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><msub><mi>I</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><msub><mi>I</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></annotation-xml></semantics></math><div class="os-equation-number"><span class="os-number">(10.10)</span></div></div>\n</div>\n<p id="fs-id1172099615384">At time <math display="inline"><semantics><mrow><mrow><mi>t</mi><mo>=</mo><mn>0.00</mn><mspace width="0.2em"/><mtext>s</mtext><mo>,</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>t</mi><mo>=</mo><mn>0.00</mn><mspace width="0.2em"/><mtext>s</mtext><mo>,</mo></mrow></annotation-xml></semantics></math> the current through the resistor is <math display="inline"><semantics><mrow><mrow><msub><mi>I</mi><mn>0</mn></msub><mo>=</mo><mfrac><mi>&#949;</mi><mi>R</mi></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>I</mi><mn>0</mn></msub><mo>=</mo><mfrac><mi>&#949;</mi><mi>R</mi></mfrac></mrow></annotation-xml></semantics></math>. As time approaches infinity, the current approaches zero. At time <math display="inline"><semantics><mrow><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi></mrow></annotation-xml></semantics></math>, the current through the resistor is <math display="inline"><semantics><mrow><mrow><mi>I</mi><mrow><mo>(</mo><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi></mrow><mo>)</mo></mrow><mo>=</mo><msub><mi>I</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mn>&#8722;1</mn></mrow></msup><mo>=</mo><mn>0.368</mn><msub><mi>I</mi><mn>0</mn></msub><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>I</mi><mrow><mo>(</mo><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi></mrow><mo>)</mo></mrow><mo>=</mo><msub><mi>I</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mn>&#8722;1</mn></mrow></msup><mo>=</mo><mn>0.368</mn><msub><mi>I</mi><mn>0</mn></msub><mo>.</mo></mrow></annotation-xml></semantics></math></p>\n<div class="os-figure"><figure id="CNX_UPhysics_27_05_ChargeRC">\n<span data-alt="The figure shows four graphs of capacitor charging, with time on the x-axis. Parts a shows charge of the capacitor on the y-axis, the value increases from 0 to C&#x3B5; and is equal to 0.632 C&#x3B5; after 1 &#x3C4;. Parts b shows current of the resistor on the y-axis, the value decreases from I subscript 0 to 0 and is equal to 0.368 I subscript 0 after 1 &#x3C4;. Parts c shows voltage of the capacitor on the y-axis, the value increases from 0 to &#x3B5; and is equal to 0.632 &#x3B5; after 1 &#x3C4;. Parts d shows voltage of the resistor on the y-axis, the value decreases from &#x3B5; to 0 and is equal to 0.368 &#x3B5; after 1 &#x3C4;." data-type="media" id="fs-id1172099463127">\n<img alt="The figure shows four graphs of capacitor charging, with time on the x-axis. Parts a shows charge of the capacitor on the y-axis, the value increases from 0 to C&#x3B5; and is equal to 0.632 C&#x3B5; after 1 &#x3C4;. Parts b shows current of the resistor on the y-axis, the value decreases from I subscript 0 to 0 and is equal to 0.368 I subscript 0 after 1 &#x3C4;. Parts c shows voltage of the capacitor on the y-axis, the value increases from 0 to &#x3B5; and is equal to 0.632 &#x3B5; after 1 &#x3C4;. Parts d shows voltage of the resistor on the y-axis, the value decreases from &#x3B5; to 0 and is equal to 0.368 &#x3B5; after 1 &#x3C4;." data-media-type="image/jpeg" id="65124" src="../resources/6fbba0702833448eb731303967bfebbe062eddd4"/>\n</span>\n\n</figure><div class="os-caption-container"><span class="os-title-label">Figure </span><span class="os-number">10.39</span><span class="os-divider"> </span><span class="os-divider"> </span><span class="os-caption">(a) Charge on the capacitor versus time as the capacitor charges. (b) Current through the resistor versus time. (c) Voltage difference across the capacitor. (d) Voltage difference across the resistor.</span></div></div>\n<p id="fs-id1172101921189"><a class="autogenerated-content" href="#CNX_UPhysics_27_05_ChargeRC">Figure 10.39</a>(c) and <a class="autogenerated-content" href="#CNX_UPhysics_27_05_ChargeRC">Figure 10.39</a>(d) show the voltage differences across the capacitor and the resistor, respectively. As the charge on the capacitor increases, the current decreases, as does the voltage difference across the resistor<math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mi>R</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mrow><mo>(</mo><mrow><msub><mi>I</mi><mn>0</mn></msub><mi>R</mi></mrow><mo>)</mo></mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>=</mo><mi>&#949;</mi><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mi>R</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mrow><mo>(</mo><mrow><msub><mi>I</mi><mn>0</mn></msub><mi>R</mi></mrow><mo>)</mo></mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>=</mo><mi>&#949;</mi><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></annotation-xml></semantics></math> The voltage difference across the capacitor increases as<math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>.</mo></mrow></annotation-xml></semantics></math></p>\n</section>\n\n\n\n<section data-depth="1" id="fs-id1172102138847"><h3 data-type="title">Discharging a Capacitor</h3>\n<p id="fs-id1172101665108">When the switch in <a class="autogenerated-content" href="#CNX_UPhysics_27_05_RCCircuit">Figure 10.38</a>(a) is moved to position <em data-effect="italics">B</em>, the circuit reduces to the circuit in part (c), and the charged capacitor is allowed to discharge through the resistor. A graph of the charge on the capacitor as a function of time is shown in <a class="autogenerated-content" href="#CNX_UPhysics_27_05_DChargeRC">Figure 10.40</a>(a). Using Kirchhoff&#8217;s loop rule to analyze the circuit as the capacitor discharges results in the equation <math display="inline"><semantics><mrow><mrow><mtext>&#8722;</mtext><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mtext>&#8722;</mtext><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn></mrow></annotation-xml></semantics></math>, which simplifies to <math display="inline"><semantics><mrow><mrow><mi>I</mi><mi>R</mi><mo>+</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>I</mi><mi>R</mi><mo>+</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn></mrow></annotation-xml></semantics></math>. Using the definition of current<math display="inline"><semantics><mrow><mrow><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mi>R</mi><mo>=</mo><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mi>R</mi><mo>=</mo><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac></mrow></annotation-xml></semantics></math> and integrating the loop equation yields an equation for the charge on the capacitor as a function of time:</p>\n<div class="equation-callout" data-type="note" id="fs-id1172102151541">\n<div data-label="" data-type="equation" id="fs-id1172099751640"><math display="block"><semantics><mrow><mrow><mi>q</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>Q</mi><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>q</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>Q</mi><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></annotation-xml></semantics></math><div class="os-equation-number"><span class="os-number">(10.11)</span></div></div>\n</div>\n<p id="fs-id1172097545503">Here, <em data-effect="italics">Q</em> is the initial charge on the capacitor and <math display="inline"><semantics><mrow><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi></mrow></annotation-xml></semantics></math> is the time constant of the circuit. As shown in the graph, the charge decreases exponentially from the initial charge, approaching zero as time approaches infinity.</p>\n<p id="fs-id1172099374699">The current as a function of time can be found by taking the time derivative of the charge:</p>\n<div class="equation-callout" data-type="note" id="fs-id1172101717256">\n<div data-label="" data-type="equation" id="fs-id1172102132940"><math display="block"><semantics><mrow><mrow><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mo>&#8722;</mo><mfrac><mi>Q</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mo>&#8722;</mo><mfrac><mi>Q</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></annotation-xml></semantics></math><div class="os-equation-number"><span class="os-number">(10.12)</span></div></div>\n</div>\n<p id="fs-id1172101883316">The negative sign shows that the current flows in the opposite direction of the current found when the capacitor is charging. <a class="autogenerated-content" href="#CNX_UPhysics_27_05_DChargeRC">Figure 10.40</a>(b) shows an example of a plot of charge versus time and current versus time. A plot of the voltage difference across the capacitor and the voltage difference across the resistor as a function of time are shown in parts (c) and (d) of the figure. Note that the magnitudes of the charge, current, and voltage all decrease exponentially, approaching zero as time increases.</p>\n<div class="os-figure"><figure id="CNX_UPhysics_27_05_DChargeRC">\n<span data-alt="The figure shows four graphs of capacitor discharging, with time on the x-axis. Parts a shows charge of the capacitor on the y-axis, the value decreases from Q subscript 0 to 0 and is equal to 0.368 Q subscript 0 after 1 &#x3C4;. Parts b shows current of the resistor on the y-axis, the value increases from I subscript 0 to 0 and is equal to 0.368 I subscript 0 after 1 &amp;#964;. Parts c shows voltage of the capacitor on the y-axis, the value decreases from V subscript 0 to 0 and is equal to 0.368 V subscript 0 after 1 &#x3C4;. Parts d shows voltage of the resistor on the y-axis, the value decreases from V subscript 0 to 0 and is equal to 0.368 V subscript 0 after 1 &#x3C4;." data-type="media" id="fs-id1172101920133">\n<img alt="The figure shows four graphs of capacitor discharging, with time on the x-axis. Parts a shows charge of the capacitor on the y-axis, the value decreases from Q subscript 0 to 0 and is equal to 0.368 Q subscript 0 after 1 &#x3C4;. Parts b shows current of the resistor on the y-axis, the value increases from I subscript 0 to 0 and is equal to 0.368 I subscript 0 after 1 &#x3C4;. Parts c shows voltage of the capacitor on the y-axis, the value decreases from V subscript 0 to 0 and is equal to 0.368 V subscript 0 after 1 &#x3C4;. Parts d shows voltage of the resistor on the y-axis, the value decreases from V subscript 0 to 0 and is equal to 0.368 V subscript 0 after 1 &#x3C4;." data-media-type="image/jpeg" id="59681" src="../resources/039efe17ae4c49089a1da1774a54424d04826890"/>\n</span>\n\n</figure><div class="os-caption-container"><span class="os-title-label">Figure </span><span class="os-number">10.40</span><span class="os-divider"> </span><span class="os-divider"> </span><span class="os-caption">(a) Charge on the capacitor versus time as the capacitor discharges. (b) Current through the resistor versus time. (c) Voltage difference across the capacitor. (d) Voltage difference across the resistor.</span></div></div>\n<p id="fs-id1172102019525">Now we can explain why the <span class="no-emphasis" data-type="term" id="term338" group-by="f">flash camera</span> mentioned at the beginning of this section takes so much longer to charge than discharge: The resistance while charging is significantly greater than while discharging. The internal resistance of the battery accounts for most of the resistance while charging. As the battery ages, the increasing internal resistance makes the charging process even slower.</p>\n<div data-type="example" id="fs-id1172101881535"><h3 class="os-title"><span class="os-title-label">Example </span><span class="os-number">10.8</span><span class="os-divider"> </span></h3>\n<p id="fs-id1172101877453"><span data-type="title">The Relaxation Oscillator</span>\nOne application of an <em data-effect="italics">RC</em> circuit is the relaxation oscillator, as shown below. The relaxation oscillator consists of a voltage source, a resistor, a capacitor, and a neon lamp. The neon lamp acts like an open circuit (infinite resistance) until the potential difference across the neon lamp reaches a specific voltage. At that voltage, the lamp acts like a short circuit (zero resistance), and the capacitor discharges through the neon lamp and produces light. In the relaxation oscillator shown, the voltage source charges the capacitor until the voltage across the capacitor is 80 V. When this happens, the neon in the lamp breaks down and allows the capacitor to discharge through the lamp, producing a bright flash. After the capacitor fully discharges through the neon lamp, it begins to charge again, and the process repeats. Assuming that the time it takes the capacitor to discharge is negligible, what is the time interval between flashes?</p>\n<span data-alt="The positive terminal of voltage source of 100 V and internal resistance of 1 &#x3A9; is connected to resistor R of 100 &#x3A9; and capacitor C of 50 mF. A neon lamp is connected parallel to the capacitor." data-type="media" id="fs-id1172099457689">\n<img alt="The positive terminal of voltage source of 100 V and internal resistance of 1 &#x3A9; is connected to resistor R of 100 &#x3A9; and capacitor C of 50 mF. A neon lamp is connected parallel to the capacitor." data-media-type="image/jpeg" id="65818" src="../resources/8b75031484f52d12f71bc41f3bf472f40305e145"/>\n</span>\n<p id="fs-id1172099765554"><span data-type="title">Strategy</span>\nThe time period can be found from considering the equation <math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mrow></annotation-xml></semantics></math> where<math display="inline"><semantics><mrow><mrow><mi>&#964;</mi><mo>=</mo><mrow><mo>(</mo><mrow><mi>R</mi><mo>+</mo><mi>r</mi></mrow><mo>)</mo></mrow><mi>C</mi><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#964;</mi><mo>=</mo><mrow><mo>(</mo><mrow><mi>R</mi><mo>+</mo><mi>r</mi></mrow><mo>)</mo></mrow><mi>C</mi><mo>.</mo></mrow></annotation-xml></semantics></math></p>\n<p id="fs-id1172099762775"><span data-type="title">Solution</span>\nThe neon lamp flashes when the voltage across the capacitor reaches 80 V. The <em data-effect="italics">RC</em> time constant is equal to <math display="inline"><semantics><mrow><mrow><mi>&#964;</mi><mo>=</mo><mrow><mo>(</mo><mrow><mi>R</mi><mo>+</mo><mi>r</mi></mrow><mo>)</mo></mrow><mi>C</mi><mo>=</mo><mrow><mo>(</mo><mrow><mn>101</mn><mspace width="0.2em"/><mtext>&#937;</mtext></mrow><mo>)</mo></mrow><mrow><mo>(</mo><mrow><mn>50</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mtext>F</mtext></mrow><mo>)</mo></mrow><mo>=</mo><mn>5.05</mn><mspace width="0.2em"/><mtext>s</mtext><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#964;</mi><mo>=</mo><mrow><mo>(</mo><mrow><mi>R</mi><mo>+</mo><mi>r</mi></mrow><mo>)</mo></mrow><mi>C</mi><mo>=</mo><mrow><mo>(</mo><mrow><mn>101</mn><mspace width="0.2em"/><mtext>&#937;</mtext></mrow><mo>)</mo></mrow><mrow><mo>(</mo><mrow><mn>50</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mtext>F</mtext></mrow><mo>)</mo></mrow><mo>=</mo><mn>5.05</mn><mspace width="0.2em"/><mtext>s</mtext><mo>.</mo></mrow></annotation-xml></semantics></math> We can solve the voltage equation for the time it takes the capacitor to reach 80 V:</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172099547547"><math display="block"><semantics><mrow><mtable><mtr><mtd columnalign="right"><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mtext>ln</mtext><mrow><mo>(</mo><mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mi>t</mi></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>&#8722;</mtext><mi>&#964;</mi><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>&#8722;5.05</mn><mspace width="0.2em"/><mtext>s</mtext><mo>&#183;</mo><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mspace width="0.2em"/><mfrac><mrow><mn>80</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>100</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>8.13</mn><mspace width="0.2em"/><mtext>s</mtext><mo>.</mo></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr><mtd columnalign="right"><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mtext>ln</mtext><mrow><mo>(</mo><mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mi>t</mi></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>&#8722;</mtext><mi>&#964;</mi><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>&#8722;5.05</mn><mspace width="0.2em"/><mtext>s</mtext><mo>&#183;</mo><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mspace width="0.2em"/><mfrac><mrow><mn>80</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>100</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>8.13</mn><mspace width="0.2em"/><mtext>s</mtext><mo>.</mo></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<p id="fs-id1172099522813"><span data-type="title">Significance</span>One application of the relaxation oscillator is for controlling indicator lights that flash at a frequency determined by the values for <em data-effect="italics">R</em> and <em data-effect="italics">C</em>. In this example, the neon lamp will flash every 8.13 seconds, a frequency of <math display="inline"><semantics><mrow><mrow><mi>f</mi><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mn>8.13</mn><mspace width="0.2em"/><mtext>s</mtext></mrow></mfrac><mo>=</mo><mn>0.123</mn><mspace width="0.2em"/><mtext>Hz</mtext><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>f</mi><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mn>8.13</mn><mspace width="0.2em"/><mtext>s</mtext></mrow></mfrac><mo>=</mo><mn>0.123</mn><mspace width="0.2em"/><mtext>Hz</mtext><mo>.</mo></mrow></annotation-xml></semantics></math> The relaxation oscillator has many other practical uses. It is often used in electronic circuits, where the neon lamp is replaced by a transistor or a device known as a tunnel diode. The description of the transistor and tunnel diode is beyond the scope of this chapter, but you can think of them as voltage controlled switches. They are normally open switches, but when the right voltage is applied, the switch closes and conducts. The &#8220;switch&#8221; can be used to turn on another circuit, turn on a light, or run a small motor. A relaxation oscillator can be used to make the turn signals of your car blink or your cell phone to vibrate.</p></div>\n<p id="fs-id1172102100114"><em data-effect="italics">RC</em> circuits have many applications. They can be used effectively as timers for applications such as intermittent windshield wipers, pace makers, and strobe lights. Some models of intermittent windshield wipers use a variable resistor to adjust the interval between sweeps of the wiper. Increasing the resistance increases the <em data-effect="italics">RC</em> time constant, which increases the time between the operation of the wipers.</p>\n<p id="fs-id1172099531452">Another application is the <span class="no-emphasis" data-type="term" id="term339" group-by="p">pacemaker</span>. The heart rate is normally controlled by electrical signals, which cause the muscles of the heart to contract and pump blood. When the heart rhythm is abnormal (the heartbeat is too high or too low), pace makers can be used to correct this abnormality. Pacemakers have sensors that detect body motion and breathing to increase the heart rate during physical activities, thus meeting the increased need for blood and oxygen, and an <em data-effect="italics">RC</em> timing circuit can be used to control the time between voltage signals to the heart.</p>\n<p id="fs-id1172099507950">Looking ahead to the study of ac circuits (<a class="target-chapter" href="/contents/eae3078c-588e-43d7-937e-a6148a533eb8">Alternating-Current Circuits</a>), ac voltages vary as sine functions with specific frequencies. Periodic variations in voltage, or electric signals, are often recorded by scientists. These voltage signals could come from music recorded by a microphone or atmospheric data collected by radar. Occasionally, these signals can contain unwanted frequencies known as &#8220;noise.&#8221; <em data-effect="italics">RC</em> filters can be used to filter out the unwanted frequencies.</p>\n<p id="fs-id1172102118199">In the study of electronics, a popular device known as a 555 timer provides timed voltage pulses. The time between pulses is controlled by an <em data-effect="italics">RC</em> circuit. These are just a few of the countless applications of <em data-effect="italics">RC</em> circuits.</p>\n<div data-type="example" id="fs-id1172099815352"><h3 class="os-title"><span class="os-title-label">Example </span><span class="os-number">10.9</span><span class="os-divider"> </span></h3>\n<p id="fs-id1172101876664"><span data-type="title">Intermittent Windshield Wipers</span>\nA relaxation oscillator is used to control a pair of windshield wipers. The relaxation oscillator consists of a 10.00-mF capacitor and a <math display="inline"><semantics><mrow><mrow><mn>10.00</mn><mtext>-k</mtext><mtext>&#937;</mtext></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mn>10.00</mn><mtext>-k</mtext><mtext>&#937;</mtext></mrow></annotation-xml></semantics></math> variable resistor known as a rheostat. A knob connected to the variable resistor allows the resistance to be adjusted from <math display="inline"><semantics><mrow><mrow><mn>0.00</mn><mspace width="0.2em"/><mtext>&#937;</mtext></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mn>0.00</mn><mspace width="0.2em"/><mtext>&#937;</mtext></mrow></annotation-xml></semantics></math> to <math display="inline"><semantics><mrow><mrow><mn>10.00</mn><mspace width="0.2em"/><mtext>k</mtext><mtext>&#937;</mtext><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mn>10.00</mn><mspace width="0.2em"/><mtext>k</mtext><mtext>&#937;</mtext><mo>.</mo></mrow></annotation-xml></semantics></math> The output of the capacitor is used to control a voltage-controlled switch. The switch is normally open, but when the output voltage reaches 10.00 V, the switch closes, energizing an electric motor and discharging the capacitor. The motor causes the windshield wipers to sweep once across the windshield and the capacitor begins to charge again. To what resistance should the rheostat be adjusted for the period of the wiper blades be 10.00 seconds?</p>\n<span data-alt="The positive terminal of voltage source V of 12 V is connected to a variable resistor R and capacitor C. V subscript out is measure across C." data-type="media" id="fs-id1172099498705">\n<img alt="The positive terminal of voltage source V of 12 V is connected to a variable resistor R and capacitor C. V subscript out is measure across C." data-media-type="image/jpeg" id="43585" src="../resources/e14606993a59d0a27083dfddab1634bc418d95be"/>\n</span>\n<p id="fs-id1172099510496"><span data-type="title">Strategy</span>\nThe resistance considers the equation <math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>V</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>V</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mrow></annotation-xml></semantics></math> where <math display="inline"><semantics><mrow><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi><mo>.</mo></mrow></annotation-xml></semantics></math> The capacitance, output voltage, and voltage of the battery are given. We need to solve this equation for the resistance.</p>\n<p id="fs-id1172097148552"><span data-type="title">Solution</span>\nThe output voltage will be 10.00 V and the voltage of the battery is 12.00 V. The capacitance is given as 10.00 mF. Solving for the resistance yields</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172099472917"><math display="block"><semantics><mrow><mtable><mtr/><mtr/><mtr><mtd columnalign="right"><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mi>V</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>R</mi><mi>C</mi></mrow></msup></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mtext>ln</mtext><mrow><mo>(</mo><mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>R</mi><mi>C</mi></mrow></msup></mrow><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mi>R</mi></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mfrac><mrow><mtext>&#8722;</mtext><mi>t</mi></mrow><mrow><mi>C</mi><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow></mrow></mfrac><mo>=</mo><mfrac><mrow><mn>&#8722;10.00</mn><mspace width="0.2em"/><mtext>s</mtext></mrow><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mspace width="0.2em"/><mtext>F</mtext><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><mn>10</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>12</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow></mrow></mfrac><mo>=</mo><mn>558.11</mn><mspace width="0.2em"/><mtext>&#937;</mtext><mo>.</mo></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr/><mtr/><mtr><mtd columnalign="right"><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mi>V</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>R</mi><mi>C</mi></mrow></msup></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mtext>ln</mtext><mrow><mo>(</mo><mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>R</mi><mi>C</mi></mrow></msup></mrow><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mi>R</mi></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mfrac><mrow><mtext>&#8722;</mtext><mi>t</mi></mrow><mrow><mi>C</mi><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow></mrow></mfrac><mo>=</mo><mfrac><mrow><mn>&#8722;10.00</mn><mspace width="0.2em"/><mtext>s</mtext></mrow><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mspace width="0.2em"/><mtext>F</mtext><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><mn>10</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>12</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow></mrow></mfrac><mo>=</mo><mn>558.11</mn><mspace width="0.2em"/><mtext>&#937;</mtext><mo>.</mo></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<p id="fs-id1172101853860"><span data-type="title">Significance</span>\nIncreasing the resistance increases the time delay between operations of the windshield wipers. When the resistance is zero, the windshield wipers run continuously. At the maximum resistance, the period of the operation of the wipers is:</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172097163675"><math display="block"><semantics><mrow><mrow><mi>t</mi><mo>=</mo><mtext>&#8722;</mtext><mi>R</mi><mi>C</mi><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mtext>&#8722;</mtext><mrow><mo>(</mo><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mspace width="0.2em"/><mtext>F</mtext></mrow><mo>)</mo></mrow><mrow><mo>(</mo><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mn>3</mn></msup><mspace width="0.2em"/><mtext>&#937;</mtext></mrow><mo>)</mo></mrow><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><mn>10</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>12</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>179.18</mn><mspace width="0.2em"/><mtext>s</mtext><mo>=</mo><mn>2.98</mn><mspace width="0.2em"/><mtext>min</mtext><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>t</mi><mo>=</mo><mtext>&#8722;</mtext><mi>R</mi><mi>C</mi><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mtext>&#8722;</mtext><mrow><mo>(</mo><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mspace width="0.2em"/><mtext>F</mtext></mrow><mo>)</mo></mrow><mrow><mo>(</mo><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mn>3</mn></msup><mspace width="0.2em"/><mtext>&#937;</mtext></mrow><mo>)</mo></mrow><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><mn>10</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>12</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>179.18</mn><mspace width="0.2em"/><mtext>s</mtext><mo>=</mo><mn>2.98</mn><mspace width="0.2em"/><mtext>min</mtext><mo>.</mo></mrow></annotation-xml></semantics></math></div>\n</div>\n<p id="fs-id1172099623126">The <em data-effect="italics">RC</em> circuit has thousands of uses and is a very important circuit to study. Not only can it be used to time circuits, it can also be used to filter out unwanted frequencies in a circuit and used in power supplies, like the one for your computer, to help turn ac voltage to dc voltage.</p>\n</section>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n  \n  </div>"""


        expected = u"""<div xmlns:m="http://www.w3.org/1998/Math/MathML" data-cnxml-to-html-ver="1.3.1+8.gecfdb1c" data-type="page" id="8769028f-354b-4fd8-94ec-15f105feae24"><h2 data-type="document-title" id="56279"><span class="os-number">10.5</span><span class="os-divider"> </span><span class="os-text">RC Circuits</span></h2><div data-type="abstract" id="31961"><h3 data-type="title">Learning Objectives</h3>By the end of the section, you will be able to:\n<ul>\n<li>Describe the charging process of a capacitor</li>\n<li>Describe the discharging process of a capacitor</li>\n<li>List some applications of RC circuits</li>\n</ul></div>\n\n\n\n<p id="fs-id1172101891012">When you use a flash camera, it takes a few seconds to charge the capacitor that powers the flash. The light flash discharges the capacitor in a tiny fraction of a second. Why does charging take longer than discharging? This question and several other phenomena that involve charging and discharging capacitors are discussed in this module.</p>\n\n\n\n<section data-depth="1" id="fs-id1172101914334"><h3 data-type="title">Circuits with Resistance and Capacitance</h3>\n<p id="fs-id1172101965263">An <span data-type="term" id="term336" group-by="R"><em data-effect="italics">RC</em> circuit</span> is a circuit containing resistance and capacitance. As presented in <a class="target-chapter" href="/contents/e55a79d3-55b7-4557-9270-3a7e7a86dc26">Capacitance</a>, the capacitor is an electrical component that stores electric charge, storing energy in an electric field.</p>\n<p id="fs-id1172099746426"><a class="autogenerated-content" href="#CNX_UPhysics_27_05_RCCircuit">Figure 10.38</a>(a) shows a simple <em data-effect="italics">RC</em> circuit that employs a dc (direct current) voltage source <math display="inline"><semantics><mrow><mi>&#949;</mi></mrow><annotation-xml encoding="MathML-Content"><mi>&#949;</mi></annotation-xml></semantics></math>, a resistor <em data-effect="italics">R</em>, a capacitor <em data-effect="italics">C</em>, and a two-position switch. The circuit allows the capacitor to be charged or discharged, depending on the position of the switch. When the switch is moved to position <em data-effect="italics">A</em>, the capacitor charges, resulting in the circuit in part (b). When the switch is moved to position <em data-effect="italics">B</em>, the capacitor discharges through the resistor.</p>\n<div class="os-figure"><figure id="CNX_UPhysics_27_05_RCCircuit">\n<span data-alt="Part a shows an open circuit with three branches, left branch is a voltage source with upward positive terminal connected to point A, the middle branch is a short circuit with point B and right branch is a resistor with a capacitor. Part b shows circuit of part a with first branch connected to third branch. Part c shows circuit of part a with second branch connected to third branch." data-type="media" id="fs-id1172099878015">\n<img alt="Part a shows an open circuit with three branches, left branch is a voltage source with upward positive terminal connected to point A, the middle branch is a short circuit with point B and right branch is a resistor with a capacitor. Part b shows circuit of part a with first branch connected to third branch. Part c shows circuit of part a with second branch connected to third branch." data-media-type="image/jpeg" id="20607" src="../resources/457cc2f5968b3e6796f5358b12019ccec7316db3"/>\n</span>\n\n</figure><div class="os-caption-container"><span class="os-title-label">Figure </span><span class="os-number">10.38</span><span class="os-divider"> </span><span class="os-divider"> </span><span class="os-caption">(a) An <em data-effect="italics">RC</em> circuit with a two-pole switch that can be used to charge and discharge a capacitor. (b) When the switch is moved to position <em data-effect="italics">A</em>, the circuit reduces to a simple series connection of the voltage source, the resistor, the capacitor, and the switch. (c) When the switch is moved to position <em data-effect="italics">B</em>, the circuit reduces to a simple series connection of the resistor, the capacitor, and the switch. The voltage source is removed from the circuit.</span></div></div>\n</section>\n\n\n\n<section data-depth="1" id="fs-id1172101790526"><h3 data-type="title">Charging a Capacitor</h3>\n<p id="fs-id1172097266009">We can use Kirchhoff&#8217;s loop rule to understand the charging of the capacitor. This results in the equation <math display="inline"><semantics><mrow><mrow><mi>&#949;</mi><mo>&#8722;</mo><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#949;</mi><mo>&#8722;</mo><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn><mo>.</mo></mrow></annotation-xml></semantics></math> This equation can be used to model the charge as a function of time as the capacitor charges. Capacitance is defined as <math display="inline"><semantics><mrow><mrow><mi>C</mi><mo>=</mo><mi>q</mi><mtext>/</mtext><mi>V</mi><mo>,</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>C</mi><mo>=</mo><mi>q</mi><mtext>/</mtext><mi>V</mi><mo>,</mo></mrow></annotation-xml></semantics></math> so the voltage across the capacitor is <math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mi>C</mi></msub><mo>=</mo><mfrac><mi>q</mi><mi>C</mi></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mi>C</mi></msub><mo>=</mo><mfrac><mi>q</mi><mi>C</mi></mfrac></mrow></annotation-xml></semantics></math>. Using Ohm&#8217;s law, the potential drop across the resistor is <math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mi>R</mi></msub><mo>=</mo><mi>I</mi><mi>R</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mi>R</mi></msub><mo>=</mo><mi>I</mi><mi>R</mi></mrow></annotation-xml></semantics></math>, and the current is defined as <math display="inline"><semantics><mrow><mrow><mi>I</mi><mo>=</mo><mi>d</mi><mi>q</mi><mtext>/</mtext><mi>d</mi><mi>t</mi><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>I</mi><mo>=</mo><mi>d</mi><mi>q</mi><mtext>/</mtext><mi>d</mi><mi>t</mi><mo>.</mo></mrow></annotation-xml></semantics></math></p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172099924458"><math display="block"><semantics><mrow><mtable><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>I</mi><mi>R</mi><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>R</mi><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0.</mn></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>I</mi><mi>R</mi><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>R</mi><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0.</mn></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<p id="fs-id1172102124804">This differential equation can be integrated to find an equation for the charge on the capacitor as a function of time.</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172099642149"><math display="block"><semantics><mrow><mtable><mtr/><mtr/><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>R</mi><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>q</mi></munderover><mrow><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>t</mi></munderover><mrow><mi>d</mi><mi>t</mi></mrow></mrow></mstyle></mrow></mrow></mstyle><mo>.</mo></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr/><mtr/><mtr><mtd columnalign="left"><mi>&#949;</mi><mo>&#8722;</mo><mi>R</mi><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>q</mi></munderover><mrow><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>t</mi></munderover><mrow><mi>d</mi><mi>t</mi></mrow></mrow></mstyle></mrow></mrow></mstyle><mo>.</mo></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<p id="fs-id1172101907363">Let <math display="inline"><semantics><mrow><mrow><mi>u</mi><mo>=</mo><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>u</mi><mo>=</mo><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow></annotation-xml></semantics></math>, then <math display="inline"><semantics><mrow><mrow><mi>d</mi><mi>u</mi><mo>=</mo><mtext>&#8722;</mtext><mi>d</mi><mi>q</mi><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>d</mi><mi>u</mi><mo>=</mo><mtext>&#8722;</mtext><mi>d</mi><mi>q</mi><mo>.</mo></mrow></annotation-xml></semantics></math> The result is</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172101792242"><math display="block"><semantics><mrow><mtable><mtr/><mtr/><mtr/><mtr/><mtr/><mtr><mtd columnalign="left"><mo>&#8722;</mo><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>q</mi></munderover><mrow><mfrac><mrow><mi>d</mi><mi>u</mi></mrow><mi>u</mi></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>t</mi></munderover><mrow><mi>d</mi><mi>t</mi></mrow></mrow></mstyle></mrow></mrow></mstyle><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mo>&#8722;</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mi>t</mi><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi></mrow></mfrac><mo>=</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mfrac bevelled="true"><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>.</mo></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr/><mtr/><mtr/><mtr/><mtr/><mtr><mtd columnalign="left"><mo>&#8722;</mo><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>q</mi></munderover><mrow><mfrac><mrow><mi>d</mi><mi>u</mi></mrow><mi>u</mi></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mstyle displaystyle="true"><mrow><munderover><mo>&#8747;</mo><mn>0</mn><mi>t</mi></munderover><mrow><mi>d</mi><mi>t</mi></mrow></mrow></mstyle></mrow></mrow></mstyle><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mo>&#8722;</mo><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><mi>t</mi><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mfrac><mrow><mi>&#949;</mi><mi>C</mi><mo>&#8722;</mo><mi>q</mi></mrow><mrow><mi>&#949;</mi><mi>C</mi></mrow></mfrac><mo>=</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mfrac bevelled="true"><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>.</mo></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<p id="fs-id1172099558667">Simplifying results in an equation for the charge on the charging capacitor as a function of time:</p>\n<div class="equation-callout" data-type="note" id="fs-id1172099501398">\n<div data-label="" data-type="equation" id="fs-id1172099597073"><math display="block"><semantics><mrow><mrow><mi>q</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup></mrow><mo>)</mo></mrow><mo>=</mo><mi>Q</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mi>&#964;</mi></mfrac></mrow></msup></mrow><mo>)</mo><mo>.</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>q</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup></mrow><mo>)</mo></mrow><mo>=</mo><mi>Q</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mi>&#964;</mi></mfrac></mrow></msup></mrow><mo>)</mo><mo>.</mo></mrow></mrow></annotation-xml></semantics></math><div class="os-equation-number"><span class="os-number">(10.8)</span></div></div>\n</div>\n<p id="fs-id1172097199932">A graph of the charge on the capacitor versus time is shown in <a class="autogenerated-content" href="#CNX_UPhysics_27_05_ChargeRC">Figure 10.39</a>(a). First note that as time approaches infinity, the exponential goes to zero, so the charge approaches the maximum charge <math display="inline"><semantics><mrow><mrow><mi>Q</mi><mo>=</mo><mi>C</mi><mi>&#949;</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>Q</mi><mo>=</mo><mi>C</mi><mi>&#949;</mi></mrow></annotation-xml></semantics></math> and has units of coulombs. The units of <em data-effect="italics">RC</em> are seconds, units of time. This quantity is known as the <span class="no-emphasis" data-type="term" id="term337" group-by="t">time constant</span>:</p>\n<div class="equation-callout" data-type="note" id="fs-id1172099811314">\n<div data-label="" data-type="equation" id="fs-id1172099451719"><math display="block"><semantics><mrow><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi><mo>.</mo></mrow></annotation-xml></semantics></math><div class="os-equation-number"><span class="os-number">(10.9)</span></div></div>\n</div>\n<p id="fs-id1172099835834">At time <math display="inline"><semantics><mrow><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi></mrow></annotation-xml></semantics></math>, the charge is equal to <math display="inline"><semantics><mrow><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mn>&#8722;1</mn></mrow></msup><mo>=</mo><mn>1</mn><mo>&#8722;</mo><mn>0.368</mn><mo>=</mo><mn>0.632</mn></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mn>&#8722;1</mn></mrow></msup><mo>=</mo><mn>1</mn><mo>&#8722;</mo><mn>0.368</mn><mo>=</mo><mn>0.632</mn></mrow></annotation-xml></semantics></math> of the maximum charge <math display="inline"><semantics><mrow><mrow><mi>Q</mi><mo>=</mo><mi>C</mi><mi>&#949;</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>Q</mi><mo>=</mo><mi>C</mi><mi>&#949;</mi></mrow></annotation-xml></semantics></math>. Notice that the time rate change of the charge is the slope at a point of the charge versus time plot. The slope of the graph is large at time <math display="inline"><semantics><mrow><mrow><mi>t</mi><mo>=</mo><mn>0.0</mn><mspace width="0.2em"/><mtext>s</mtext></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>t</mi><mo>=</mo><mn>0.0</mn><mspace width="0.2em"/><mtext>s</mtext></mrow></annotation-xml></semantics></math> and approaches zero as time increases.</p>\n<p id="fs-id1172102132072">As the charge on the capacitor increases, the current through the resistor decreases, as shown in <a class="autogenerated-content" href="#CNX_UPhysics_27_05_ChargeRC">Figure 10.39</a>(b). The current through the resistor can be found by taking the time derivative of the charge.</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172102111860"><math display="block"><semantics><mrow><mtable><mtr/><mtr/><mtr><mtd columnalign="left"><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mi>d</mi><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mrow><mo>[</mo><mrow><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup></mrow><mo>)</mo></mrow></mrow><mo>]</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow><mo>)</mo></mrow><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>=</mo><mfrac><mi>&#949;</mi><mi>R</mi></mfrac><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>=</mo><msub><mi>I</mi><mi>o</mi></msub><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>,</mo></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr/><mtr/><mtr><mtd columnalign="left"><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mi>d</mi><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mrow><mo>[</mo><mrow><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup></mrow><mo>)</mo></mrow></mrow><mo>]</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="left"><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>C</mi><mi>&#949;</mi><mrow><mo>(</mo><mrow><mfrac><mn>1</mn><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow><mo>)</mo></mrow><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>=</mo><mfrac><mi>&#949;</mi><mi>R</mi></mfrac><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>=</mo><msub><mi>I</mi><mi>o</mi></msub><msup><mi>e</mi><mrow><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mrow></msup><mo>,</mo></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<div class="equation-callout" data-type="note" id="fs-id1172101986557">\n<div data-label="" data-type="equation" id="fs-id1172101804668"><math display="block"><semantics><mrow><mrow><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><msub><mi>I</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><msub><mi>I</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></annotation-xml></semantics></math><div class="os-equation-number"><span class="os-number">(10.10)</span></div></div>\n</div>\n<p id="fs-id1172099615384">At time <math display="inline"><semantics><mrow><mrow><mi>t</mi><mo>=</mo><mn>0.00</mn><mspace width="0.2em"/><mtext>s</mtext><mo>,</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>t</mi><mo>=</mo><mn>0.00</mn><mspace width="0.2em"/><mtext>s</mtext><mo>,</mo></mrow></annotation-xml></semantics></math> the current through the resistor is <math display="inline"><semantics><mrow><mrow><msub><mi>I</mi><mn>0</mn></msub><mo>=</mo><mfrac><mi>&#949;</mi><mi>R</mi></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>I</mi><mn>0</mn></msub><mo>=</mo><mfrac><mi>&#949;</mi><mi>R</mi></mfrac></mrow></annotation-xml></semantics></math>. As time approaches infinity, the current approaches zero. At time <math display="inline"><semantics><mrow><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi></mrow></annotation-xml></semantics></math>, the current through the resistor is <math display="inline"><semantics><mrow><mrow><mi>I</mi><mrow><mo>(</mo><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi></mrow><mo>)</mo></mrow><mo>=</mo><msub><mi>I</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mn>&#8722;1</mn></mrow></msup><mo>=</mo><mn>0.368</mn><msub><mi>I</mi><mn>0</mn></msub><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>I</mi><mrow><mo>(</mo><mrow><mi>t</mi><mo>=</mo><mi>&#964;</mi></mrow><mo>)</mo></mrow><mo>=</mo><msub><mi>I</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mn>&#8722;1</mn></mrow></msup><mo>=</mo><mn>0.368</mn><msub><mi>I</mi><mn>0</mn></msub><mo>.</mo></mrow></annotation-xml></semantics></math></p>\n<div class="os-figure"><figure id="CNX_UPhysics_27_05_ChargeRC">\n<span data-alt="The figure shows four graphs of capacitor charging, with time on the x-axis. Parts a shows charge of the capacitor on the y-axis, the value increases from 0 to C&#949; and is equal to 0.632 C&#949; after 1 &#964;. Parts b shows current of the resistor on the y-axis, the value decreases from I subscript 0 to 0 and is equal to 0.368 I subscript 0 after 1 &#964;. Parts c shows voltage of the capacitor on the y-axis, the value increases from 0 to &#949; and is equal to 0.632 &#949; after 1 &#964;. Parts d shows voltage of the resistor on the y-axis, the value decreases from &#949; to 0 and is equal to 0.368 &#949; after 1 &#964;." data-type="media" id="fs-id1172099463127">\n<img alt="The figure shows four graphs of capacitor charging, with time on the x-axis. Parts a shows charge of the capacitor on the y-axis, the value increases from 0 to C&#949; and is equal to 0.632 C&#949; after 1 &#964;. Parts b shows current of the resistor on the y-axis, the value decreases from I subscript 0 to 0 and is equal to 0.368 I subscript 0 after 1 &#964;. Parts c shows voltage of the capacitor on the y-axis, the value increases from 0 to &#949; and is equal to 0.632 &#949; after 1 &#964;. Parts d shows voltage of the resistor on the y-axis, the value decreases from &#949; to 0 and is equal to 0.368 &#949; after 1 &#964;." data-media-type="image/jpeg" id="65124" src="../resources/6fbba0702833448eb731303967bfebbe062eddd4"/>\n</span>\n\n</figure><div class="os-caption-container"><span class="os-title-label">Figure </span><span class="os-number">10.39</span><span class="os-divider"> </span><span class="os-divider"> </span><span class="os-caption">(a) Charge on the capacitor versus time as the capacitor charges. (b) Current through the resistor versus time. (c) Voltage difference across the capacitor. (d) Voltage difference across the resistor.</span></div></div>\n<p id="fs-id1172101921189"><a class="autogenerated-content" href="#CNX_UPhysics_27_05_ChargeRC">Figure 10.39</a>(c) and <a class="autogenerated-content" href="#CNX_UPhysics_27_05_ChargeRC">Figure 10.39</a>(d) show the voltage differences across the capacitor and the resistor, respectively. As the charge on the capacitor increases, the current decreases, as does the voltage difference across the resistor<math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mi>R</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mrow><mo>(</mo><mrow><msub><mi>I</mi><mn>0</mn></msub><mi>R</mi></mrow><mo>)</mo></mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>=</mo><mi>&#949;</mi><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mi>R</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mrow><mo>(</mo><mrow><msub><mi>I</mi><mn>0</mn></msub><mi>R</mi></mrow><mo>)</mo></mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>=</mo><mi>&#949;</mi><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></annotation-xml></semantics></math> The voltage difference across the capacitor increases as<math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>.</mo></mrow></annotation-xml></semantics></math></p>\n</section>\n\n\n\n<section data-depth="1" id="fs-id1172102138847"><h3 data-type="title">Discharging a Capacitor</h3>\n<p id="fs-id1172101665108">When the switch in <a class="autogenerated-content" href="#CNX_UPhysics_27_05_RCCircuit">Figure 10.38</a>(a) is moved to position <em data-effect="italics">B</em>, the circuit reduces to the circuit in part (c), and the charged capacitor is allowed to discharge through the resistor. A graph of the charge on the capacitor as a function of time is shown in <a class="autogenerated-content" href="#CNX_UPhysics_27_05_DChargeRC">Figure 10.40</a>(a). Using Kirchhoff&#8217;s loop rule to analyze the circuit as the capacitor discharges results in the equation <math display="inline"><semantics><mrow><mrow><mtext>&#8722;</mtext><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mtext>&#8722;</mtext><msub><mi>V</mi><mi>R</mi></msub><mo>&#8722;</mo><msub><mi>V</mi><mi>c</mi></msub><mo>=</mo><mn>0</mn></mrow></annotation-xml></semantics></math>, which simplifies to <math display="inline"><semantics><mrow><mrow><mi>I</mi><mi>R</mi><mo>+</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>I</mi><mi>R</mi><mo>+</mo><mfrac><mi>q</mi><mi>C</mi></mfrac><mo>=</mo><mn>0</mn></mrow></annotation-xml></semantics></math>. Using the definition of current<math display="inline"><semantics><mrow><mrow><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mi>R</mi><mo>=</mo><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mfrac><mrow><mi>d</mi><mi>q</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mi>R</mi><mo>=</mo><mo>&#8722;</mo><mfrac><mi>q</mi><mi>C</mi></mfrac></mrow></annotation-xml></semantics></math> and integrating the loop equation yields an equation for the charge on the capacitor as a function of time:</p>\n<div class="equation-callout" data-type="note" id="fs-id1172102151541">\n<div data-label="" data-type="equation" id="fs-id1172099751640"><math display="block"><semantics><mrow><mrow><mi>q</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>Q</mi><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>q</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>Q</mi><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></annotation-xml></semantics></math><div class="os-equation-number"><span class="os-number">(10.11)</span></div></div>\n</div>\n<p id="fs-id1172097545503">Here, <em data-effect="italics">Q</em> is the initial charge on the capacitor and <math display="inline"><semantics><mrow><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi></mrow></annotation-xml></semantics></math> is the time constant of the circuit. As shown in the graph, the charge decreases exponentially from the initial charge, approaching zero as time approaches infinity.</p>\n<p id="fs-id1172099374699">The current as a function of time can be found by taking the time derivative of the charge:</p>\n<div class="equation-callout" data-type="note" id="fs-id1172101717256">\n<div data-label="" data-type="equation" id="fs-id1172102132940"><math display="block"><semantics><mrow><mrow><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mo>&#8722;</mo><mfrac><mi>Q</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>I</mi><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mo>&#8722;</mo><mfrac><mi>Q</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup><mo>.</mo></mrow></annotation-xml></semantics></math><div class="os-equation-number"><span class="os-number">(10.12)</span></div></div>\n</div>\n<p id="fs-id1172101883316">The negative sign shows that the current flows in the opposite direction of the current found when the capacitor is charging. <a class="autogenerated-content" href="#CNX_UPhysics_27_05_DChargeRC">Figure 10.40</a>(b) shows an example of a plot of charge versus time and current versus time. A plot of the voltage difference across the capacitor and the voltage difference across the resistor as a function of time are shown in parts (c) and (d) of the figure. Note that the magnitudes of the charge, current, and voltage all decrease exponentially, approaching zero as time increases.</p>\n<div class="os-figure"><figure id="CNX_UPhysics_27_05_DChargeRC">\n<span data-alt="The figure shows four graphs of capacitor discharging, with time on the x-axis. Parts a shows charge of the capacitor on the y-axis, the value decreases from Q subscript 0 to 0 and is equal to 0.368 Q subscript 0 after 1 &#964;. Parts b shows current of the resistor on the y-axis, the value increases from I subscript 0 to 0 and is equal to 0.368 I subscript 0 after 1 &amp;#964;. Parts c shows voltage of the capacitor on the y-axis, the value decreases from V subscript 0 to 0 and is equal to 0.368 V subscript 0 after 1 &#964;. Parts d shows voltage of the resistor on the y-axis, the value decreases from V subscript 0 to 0 and is equal to 0.368 V subscript 0 after 1 &#964;." data-type="media" id="fs-id1172101920133">\n<img alt="The figure shows four graphs of capacitor discharging, with time on the x-axis. Parts a shows charge of the capacitor on the y-axis, the value decreases from Q subscript 0 to 0 and is equal to 0.368 Q subscript 0 after 1 &#964;. Parts b shows current of the resistor on the y-axis, the value increases from I subscript 0 to 0 and is equal to 0.368 I subscript 0 after 1 &#964;. Parts c shows voltage of the capacitor on the y-axis, the value decreases from V subscript 0 to 0 and is equal to 0.368 V subscript 0 after 1 &#964;. Parts d shows voltage of the resistor on the y-axis, the value decreases from V subscript 0 to 0 and is equal to 0.368 V subscript 0 after 1 &#964;." data-media-type="image/jpeg" id="59681" src="../resources/039efe17ae4c49089a1da1774a54424d04826890"/>\n</span>\n\n</figure><div class="os-caption-container"><span class="os-title-label">Figure </span><span class="os-number">10.40</span><span class="os-divider"> </span><span class="os-divider"> </span><span class="os-caption">(a) Charge on the capacitor versus time as the capacitor discharges. (b) Current through the resistor versus time. (c) Voltage difference across the capacitor. (d) Voltage difference across the resistor.</span></div></div>\n<p id="fs-id1172102019525">Now we can explain why the <span class="no-emphasis" data-type="term" id="term338" group-by="f">flash camera</span> mentioned at the beginning of this section takes so much longer to charge than discharge: The resistance while charging is significantly greater than while discharging. The internal resistance of the battery accounts for most of the resistance while charging. As the battery ages, the increasing internal resistance makes the charging process even slower.</p>\n<div data-type="example" id="fs-id1172101881535"><h3 class="os-title"><span class="os-title-label">Example </span><span class="os-number">10.8</span><span class="os-divider"> </span></h3>\n<p id="fs-id1172101877453"><span data-type="title">The Relaxation Oscillator</span>\nOne application of an <em data-effect="italics">RC</em> circuit is the relaxation oscillator, as shown below. The relaxation oscillator consists of a voltage source, a resistor, a capacitor, and a neon lamp. The neon lamp acts like an open circuit (infinite resistance) until the potential difference across the neon lamp reaches a specific voltage. At that voltage, the lamp acts like a short circuit (zero resistance), and the capacitor discharges through the neon lamp and produces light. In the relaxation oscillator shown, the voltage source charges the capacitor until the voltage across the capacitor is 80 V. When this happens, the neon in the lamp breaks down and allows the capacitor to discharge through the lamp, producing a bright flash. After the capacitor fully discharges through the neon lamp, it begins to charge again, and the process repeats. Assuming that the time it takes the capacitor to discharge is negligible, what is the time interval between flashes?</p>\n<span data-alt="The positive terminal of voltage source of 100 V and internal resistance of 1 &#937; is connected to resistor R of 100 &#937; and capacitor C of 50 mF. A neon lamp is connected parallel to the capacitor." data-type="media" id="fs-id1172099457689">\n<img alt="The positive terminal of voltage source of 100 V and internal resistance of 1 &#937; is connected to resistor R of 100 &#937; and capacitor C of 50 mF. A neon lamp is connected parallel to the capacitor." data-media-type="image/jpeg" id="65818" src="../resources/8b75031484f52d12f71bc41f3bf472f40305e145"/>\n</span>\n<p id="fs-id1172099765554"><span data-type="title">Strategy</span>\nThe time period can be found from considering the equation <math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mrow></annotation-xml></semantics></math> where<math display="inline"><semantics><mrow><mrow><mi>&#964;</mi><mo>=</mo><mrow><mo>(</mo><mrow><mi>R</mi><mo>+</mo><mi>r</mi></mrow><mo>)</mo></mrow><mi>C</mi><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#964;</mi><mo>=</mo><mrow><mo>(</mo><mrow><mi>R</mi><mo>+</mo><mi>r</mi></mrow><mo>)</mo></mrow><mi>C</mi><mo>.</mo></mrow></annotation-xml></semantics></math></p>\n<p id="fs-id1172099762775"><span data-type="title">Solution</span>\nThe neon lamp flashes when the voltage across the capacitor reaches 80 V. The <em data-effect="italics">RC</em> time constant is equal to <math display="inline"><semantics><mrow><mrow><mi>&#964;</mi><mo>=</mo><mrow><mo>(</mo><mrow><mi>R</mi><mo>+</mo><mi>r</mi></mrow><mo>)</mo></mrow><mi>C</mi><mo>=</mo><mrow><mo>(</mo><mrow><mn>101</mn><mspace width="0.2em"/><mtext>&#937;</mtext></mrow><mo>)</mo></mrow><mrow><mo>(</mo><mrow><mn>50</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mtext>F</mtext></mrow><mo>)</mo></mrow><mo>=</mo><mn>5.05</mn><mspace width="0.2em"/><mtext>s</mtext><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#964;</mi><mo>=</mo><mrow><mo>(</mo><mrow><mi>R</mi><mo>+</mo><mi>r</mi></mrow><mo>)</mo></mrow><mi>C</mi><mo>=</mo><mrow><mo>(</mo><mrow><mn>101</mn><mspace width="0.2em"/><mtext>&#937;</mtext></mrow><mo>)</mo></mrow><mrow><mo>(</mo><mrow><mn>50</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mtext>F</mtext></mrow><mo>)</mo></mrow><mo>=</mo><mn>5.05</mn><mspace width="0.2em"/><mtext>s</mtext><mo>.</mo></mrow></annotation-xml></semantics></math> We can solve the voltage equation for the time it takes the capacitor to reach 80 V:</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172099547547"><math display="block"><semantics><mrow><mtable><mtr><mtd columnalign="right"><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mtext>ln</mtext><mrow><mo>(</mo><mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mi>t</mi></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>&#8722;</mtext><mi>&#964;</mi><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>&#8722;5.05</mn><mspace width="0.2em"/><mtext>s</mtext><mo>&#183;</mo><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mspace width="0.2em"/><mfrac><mrow><mn>80</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>100</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>8.13</mn><mspace width="0.2em"/><mtext>s</mtext><mo>.</mo></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr><mtd columnalign="right"><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mi>&#949;</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mtext>ln</mtext><mrow><mo>(</mo><mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mi>t</mi></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>&#8722;</mtext><mi>&#964;</mi><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>&#949;</mi></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>&#8722;5.05</mn><mspace width="0.2em"/><mtext>s</mtext><mo>&#183;</mo><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mspace width="0.2em"/><mfrac><mrow><mn>80</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>100</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>8.13</mn><mspace width="0.2em"/><mtext>s</mtext><mo>.</mo></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<p id="fs-id1172099522813"><span data-type="title">Significance</span>One application of the relaxation oscillator is for controlling indicator lights that flash at a frequency determined by the values for <em data-effect="italics">R</em> and <em data-effect="italics">C</em>. In this example, the neon lamp will flash every 8.13 seconds, a frequency of <math display="inline"><semantics><mrow><mrow><mi>f</mi><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mn>8.13</mn><mspace width="0.2em"/><mtext>s</mtext></mrow></mfrac><mo>=</mo><mn>0.123</mn><mspace width="0.2em"/><mtext>Hz</mtext><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>f</mi><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mn>8.13</mn><mspace width="0.2em"/><mtext>s</mtext></mrow></mfrac><mo>=</mo><mn>0.123</mn><mspace width="0.2em"/><mtext>Hz</mtext><mo>.</mo></mrow></annotation-xml></semantics></math> The relaxation oscillator has many other practical uses. It is often used in electronic circuits, where the neon lamp is replaced by a transistor or a device known as a tunnel diode. The description of the transistor and tunnel diode is beyond the scope of this chapter, but you can think of them as voltage controlled switches. They are normally open switches, but when the right voltage is applied, the switch closes and conducts. The &#8220;switch&#8221; can be used to turn on another circuit, turn on a light, or run a small motor. A relaxation oscillator can be used to make the turn signals of your car blink or your cell phone to vibrate.</p></div>\n<p id="fs-id1172102100114"><em data-effect="italics">RC</em> circuits have many applications. They can be used effectively as timers for applications such as intermittent windshield wipers, pace makers, and strobe lights. Some models of intermittent windshield wipers use a variable resistor to adjust the interval between sweeps of the wiper. Increasing the resistance increases the <em data-effect="italics">RC</em> time constant, which increases the time between the operation of the wipers.</p>\n<p id="fs-id1172099531452">Another application is the <span class="no-emphasis" data-type="term" id="term339" group-by="p">pacemaker</span>. The heart rate is normally controlled by electrical signals, which cause the muscles of the heart to contract and pump blood. When the heart rhythm is abnormal (the heartbeat is too high or too low), pace makers can be used to correct this abnormality. Pacemakers have sensors that detect body motion and breathing to increase the heart rate during physical activities, thus meeting the increased need for blood and oxygen, and an <em data-effect="italics">RC</em> timing circuit can be used to control the time between voltage signals to the heart.</p>\n<p id="fs-id1172099507950">Looking ahead to the study of ac circuits (<a class="target-chapter" href="/contents/eae3078c-588e-43d7-937e-a6148a533eb8">Alternating-Current Circuits</a>), ac voltages vary as sine functions with specific frequencies. Periodic variations in voltage, or electric signals, are often recorded by scientists. These voltage signals could come from music recorded by a microphone or atmospheric data collected by radar. Occasionally, these signals can contain unwanted frequencies known as &#8220;noise.&#8221; <em data-effect="italics">RC</em> filters can be used to filter out the unwanted frequencies.</p>\n<p id="fs-id1172102118199">In the study of electronics, a popular device known as a 555 timer provides timed voltage pulses. The time between pulses is controlled by an <em data-effect="italics">RC</em> circuit. These are just a few of the countless applications of <em data-effect="italics">RC</em> circuits.</p>\n<div data-type="example" id="fs-id1172099815352"><h3 class="os-title"><span class="os-title-label">Example </span><span class="os-number">10.9</span><span class="os-divider"> </span></h3>\n<p id="fs-id1172101876664"><span data-type="title">Intermittent Windshield Wipers</span>\nA relaxation oscillator is used to control a pair of windshield wipers. The relaxation oscillator consists of a 10.00-mF capacitor and a <math display="inline"><semantics><mrow><mrow><mn>10.00</mn><mtext>-k</mtext><mtext>&#937;</mtext></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mn>10.00</mn><mtext>-k</mtext><mtext>&#937;</mtext></mrow></annotation-xml></semantics></math> variable resistor known as a rheostat. A knob connected to the variable resistor allows the resistance to be adjusted from <math display="inline"><semantics><mrow><mrow><mn>0.00</mn><mspace width="0.2em"/><mtext>&#937;</mtext></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mn>0.00</mn><mspace width="0.2em"/><mtext>&#937;</mtext></mrow></annotation-xml></semantics></math> to <math display="inline"><semantics><mrow><mrow><mn>10.00</mn><mspace width="0.2em"/><mtext>k</mtext><mtext>&#937;</mtext><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mn>10.00</mn><mspace width="0.2em"/><mtext>k</mtext><mtext>&#937;</mtext><mo>.</mo></mrow></annotation-xml></semantics></math> The output of the capacitor is used to control a voltage-controlled switch. The switch is normally open, but when the output voltage reaches 10.00 V, the switch closes, energizing an electric motor and discharging the capacitor. The motor causes the windshield wipers to sweep once across the windshield and the capacitor begins to charge again. To what resistance should the rheostat be adjusted for the period of the wiper blades be 10.00 seconds?</p>\n<span data-alt="The positive terminal of voltage source V of 12 V is connected to a variable resistor R and capacitor C. V subscript out is measure across C." data-type="media" id="fs-id1172099498705">\n<img alt="The positive terminal of voltage source V of 12 V is connected to a variable resistor R and capacitor C. V subscript out is measure across C." data-media-type="image/jpeg" id="43585" src="../resources/e14606993a59d0a27083dfddab1634bc418d95be"/>\n</span>\n<p id="fs-id1172099510496"><span data-type="title">Strategy</span>\nThe resistance considers the equation <math display="inline"><semantics><mrow><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>V</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow><mo>=</mo><mi>V</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mrow></annotation-xml></semantics></math> where <math display="inline"><semantics><mrow><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>&#964;</mi><mo>=</mo><mi>R</mi><mi>C</mi><mo>.</mo></mrow></annotation-xml></semantics></math> The capacitance, output voltage, and voltage of the battery are given. We need to solve this equation for the resistance.</p>\n<p id="fs-id1172097148552"><span data-type="title">Solution</span>\nThe output voltage will be 10.00 V and the voltage of the battery is 12.00 V. The capacitance is given as 10.00 mF. Solving for the resistance yields</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172099472917"><math display="block"><semantics><mrow><mtable><mtr/><mtr/><mtr><mtd columnalign="right"><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mi>V</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>R</mi><mi>C</mi></mrow></msup></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mtext>ln</mtext><mrow><mo>(</mo><mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>R</mi><mi>C</mi></mrow></msup></mrow><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mi>R</mi></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mfrac><mrow><mtext>&#8722;</mtext><mi>t</mi></mrow><mrow><mi>C</mi><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow></mrow></mfrac><mo>=</mo><mfrac><mrow><mn>&#8722;10.00</mn><mspace width="0.2em"/><mtext>s</mtext></mrow><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mspace width="0.2em"/><mtext>F</mtext><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><mn>10</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>12</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow></mrow></mfrac><mo>=</mo><mn>558.11</mn><mspace width="0.2em"/><mtext>&#937;</mtext><mo>.</mo></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content"><mtable><mtr/><mtr/><mtr><mtd columnalign="right"><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mi>V</mi><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>&#964;</mi></mrow></msup></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>R</mi><mi>C</mi></mrow></msup></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mtext>ln</mtext><mrow><mo>(</mo><mrow><msup><mi>e</mi><mrow><mtext>&#8722;</mtext><mi>t</mi><mtext>/</mtext><mi>R</mi><mi>C</mi></mrow></msup></mrow><mo>)</mo></mrow></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mo>&#8722;</mo><mfrac><mi>t</mi><mrow><mi>R</mi><mi>C</mi></mrow></mfrac></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>,</mo></mtd></mtr><mtr><mtd columnalign="right"><mi>R</mi></mtd><mtd columnalign="left"><mo>=</mo></mtd><mtd columnalign="left"><mfrac><mrow><mtext>&#8722;</mtext><mi>t</mi></mrow><mrow><mi>C</mi><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mi>C</mi></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow></mrow></mfrac><mo>=</mo><mfrac><mrow><mn>&#8722;10.00</mn><mspace width="0.2em"/><mtext>s</mtext></mrow><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mspace width="0.2em"/><mtext>F</mtext><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><mn>10</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>12</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow></mrow></mfrac><mo>=</mo><mn>558.11</mn><mspace width="0.2em"/><mtext>&#937;</mtext><mo>.</mo></mtd></mtr></mtable></annotation-xml></semantics></math></div>\n<p id="fs-id1172101853860"><span data-type="title">Significance</span>\nIncreasing the resistance increases the time delay between operations of the windshield wipers. When the resistance is zero, the windshield wipers run continuously. At the maximum resistance, the period of the operation of the wipers is:</p>\n<div class="unnumbered" data-label="" data-type="equation" id="fs-id1172097163675"><math display="block"><semantics><mrow><mrow><mi>t</mi><mo>=</mo><mtext>&#8722;</mtext><mi>R</mi><mi>C</mi><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mtext>&#8722;</mtext><mrow><mo>(</mo><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mspace width="0.2em"/><mtext>F</mtext></mrow><mo>)</mo></mrow><mrow><mo>(</mo><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mn>3</mn></msup><mspace width="0.2em"/><mtext>&#937;</mtext></mrow><mo>)</mo></mrow><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><mn>10</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>12</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>179.18</mn><mspace width="0.2em"/><mtext>s</mtext><mo>=</mo><mn>2.98</mn><mspace width="0.2em"/><mtext>min</mtext><mo>.</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><mrow><mi>t</mi><mo>=</mo><mtext>&#8722;</mtext><mi>R</mi><mi>C</mi><mspace width="0.2em"/><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><msub><mi>V</mi><mrow><mtext>out</mtext></mrow></msub><mrow><mo>(</mo><mi>t</mi><mo>)</mo></mrow></mrow><mi>V</mi></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mtext>&#8722;</mtext><mrow><mo>(</mo><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mrow><mn>&#8722;3</mn></mrow></msup><mspace width="0.2em"/><mtext>F</mtext></mrow><mo>)</mo></mrow><mrow><mo>(</mo><mrow><mn>10</mn><mspace width="0.2em"/><mo>&#215;</mo><mspace width="0.2em"/><msup><mrow><mn>10</mn></mrow><mn>3</mn></msup><mspace width="0.2em"/><mtext>&#937;</mtext></mrow><mo>)</mo></mrow><mtext>ln</mtext><mrow><mo>(</mo><mrow><mn>1</mn><mo>&#8722;</mo><mfrac><mrow><mn>10</mn><mspace width="0.2em"/><mtext>V</mtext></mrow><mrow><mn>12</mn><mspace width="0.2em"/><mtext>V</mtext></mrow></mfrac></mrow><mo>)</mo></mrow><mo>=</mo><mn>179.18</mn><mspace width="0.2em"/><mtext>s</mtext><mo>=</mo><mn>2.98</mn><mspace width="0.2em"/><mtext>min</mtext><mo>.</mo></mrow></annotation-xml></semantics></math></div>\n</div>\n<p id="fs-id1172099623126">The <em data-effect="italics">RC</em> circuit has thousands of uses and is a very important circuit to study. Not only can it be used to time circuits, it can also be used to filter out unwanted frequencies in a circuit and used in power supplies, like the one for your computer, to help turn ac voltage to dc voltage.</p>\n</section>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n  \n  </div>"""

        xml = target(content)

        print repr(xml)
        self.assertEqual(xml, expected)


class TreeUtilityTestCase(BaseModelTestCase):

    def test_binder_to_tree(self):
        binder = self.make_binder(
            '8d75ea29',
            metadata={'version': '3', 'title': "Book One"},
            nodes=[
                self.make_binder(
                    None,
                    metadata={'title': "Part One"},
                    nodes=[
                        self.make_binder(
                            None,
                            metadata={'title': "Chapter One"},
                            nodes=[
                                self.make_document(
                                    id="e78d4f90",
                                    metadata={'version': '3',
                                              'title': "Document One"})]),
                        self.make_binder(
                            None,
                            metadata={'title': "Chapter Two"},
                            nodes=[
                                self.make_document(
                                    id="3c448dc6",
                                    metadata={'version': '1',
                                              'title': "Document Two"})])]),
                self.make_binder(
                    None,
                    metadata={'title': "Part Two"},
                    nodes=[
                        self.make_binder(
                            None,
                            metadata={'title': "Chapter Three"},
                            nodes=[
                                self.make_document(
                                    id="ad17c39c",
                                    metadata={'version': '2',
                                              'title': "Document Three"})])]),
                self.make_binder(
                    '4e5390a5@2',
                    metadata={'title': "Part Three"},
                    nodes=[
                        self.make_binder(
                            None,
                            metadata={'title': "Chapter Four"},
                            nodes=[
                                self.make_document(
                                    id="7c52af05",
                                    metadata={'version': '1',
                                              'title': "Document Four"})])])])

        expected_tree = {
            'id': '8d75ea29@3',
            'shortId': None,
            'contents': [
                {'id': 'subcol',
                 'shortId': None,
                 'contents': [
                     {'id': 'subcol',
                      'shortId': None,
                      'contents': [
                          {'id': 'e78d4f90@3',
                           'shortId': None,
                           'title': 'Document One'}],
                      'title': 'Chapter One'},
                     {'id': 'subcol',
                      'shortId': None,
                      'contents': [
                          {'id': '3c448dc6@1',
                           'shortId': None,
                           'title': 'Document Two'}],
                      'title': 'Chapter Two'}],
                 'title': 'Part One'},
                {'id': 'subcol',
                 'shortId': None,
                 'contents': [
                     {'id': 'subcol',
                      'shortId': None,
                      'contents': [
                          {'id': 'ad17c39c@2',
                           'shortId': None,
                           'title': 'Document Three'}],
                      'title': 'Chapter Three'}],
                 'title': 'Part Two'},
                {'id': '4e5390a5@2',
                 'shortId': None,
                 'contents': [
                     {'id': 'subcol',
                      'shortId': None,
                      'contents': [
                          {'id': '7c52af05@1',
                           'shortId': None,
                           'title': 'Document Four'}],
                      'title': 'Chapter Four'}],
                 'title': 'Part Three'}],
            'title': 'Book One'}

        from ..models import model_to_tree
        tree = model_to_tree(binder)
        self.assertEqual(tree, expected_tree)

    def test_flatten_model(self):
        binder = self.make_binder(
            '8d75ea29',
            metadata={'version': '3', 'title': "Book One"},
            nodes=[
                self.make_binder(
                    None,
                    metadata={'title': "Part One"},
                    nodes=[
                        self.make_binder(
                            None,
                            metadata={'title': "Chapter One"},
                            nodes=[
                                self.make_document(
                                    id="e78d4f90",
                                    metadata={'version': '3',
                                              'title': "Document One"})]),
                        self.make_binder(
                            None,
                            metadata={'title': "Chapter Two"},
                            nodes=[
                                self.make_document(
                                    id="3c448dc6",
                                    metadata={'version': '1',
                                              'title': "Document Two"})])]),
                self.make_binder(
                    None,
                    metadata={'title': "Part Two"},
                    nodes=[
                        self.make_binder(
                            None,
                            metadata={'title': "Chapter Three"},
                            nodes=[
                                self.make_document(
                                    id="ad17c39c",
                                    metadata={'version': '2',
                                              'title': "Document Three"})])])])
        expected_titles = [
            'Book One',
            'Part One',
            'Chapter One', 'Document One',
            'Chapter Two', 'Document Two',
            'Part Two',
            'Chapter Three', 'Document Three']

        from ..models import flatten_model
        titles = [m.metadata['title'] for m in flatten_model(binder)]
        self.assertEqual(titles, expected_titles)

    def test_flatten_to_documents(self):
        binder = self.make_binder(
            '8d75ea29',
            metadata={'version': '3', 'title': "Book One"},
            nodes=[
                self.make_binder(
                    None,
                    metadata={'title': "Part One"},
                    nodes=[
                        self.make_binder(
                            None,
                            metadata={'title': "Chapter One"},
                            nodes=[
                                self.make_document(
                                    id="e78d4f90",
                                    metadata={'version': '3',
                                              'title': "Document One"})]),
                        self.make_document_pointer(
                            ident_hash='844a99e5@1',
                            metadata={'title': "Pointing"}),
                        self.make_binder(
                            None,
                            metadata={'title': "Chapter Two"},
                            nodes=[
                                self.make_document(
                                    id="3c448dc6",
                                    metadata={'version': '1',
                                              'title': "Document Two"})])]),
                self.make_binder(
                    None,
                    metadata={'title': "Part Two"},
                    nodes=[
                        self.make_binder(
                            None,
                            metadata={'title': "Chapter Three"},
                            nodes=[
                                self.make_document(
                                    id="ad17c39c",
                                    metadata={'version': '2',
                                              'title': "Document Three"})])])])

        from ..models import flatten_to_documents

        # Test for default, Document only results.
        expected_titles = ['Document One', 'Document Two', 'Document Three']
        titles = [d.metadata['title'] for d in flatten_to_documents(binder)]
        self.assertEqual(titles, expected_titles)

        # Test for included DocumentPointer results.
        expected_titles = ['Document One', 'Pointing', 'Document Two',
                           'Document Three']
        titles = [d.metadata['title']
                  for d in flatten_to_documents(binder, include_pointers=True)]
        self.assertEqual(titles, expected_titles)


class ModelBehaviorTestCase(unittest.TestCase):

    def test_document_w_references(self):
        """Documents are loaded then parsed to show their
        references within the HTML content.
        """
        expected_uris = ["http://example.com/people/old-mcdonald",
                         "http://cnx.org/contents/5f3acd92@3",
                         "../resources/nyan-cat.gif"
                         ]
        content = """\
<h1> McDonald Bio </h1>
<p>There is a farmer named <a href="{}">Old McDonald</a>. Plants grow on his farm and animals live there. He himself is vegan, and so he wrote a book about <a href="{}">Vegan Farming</a>.</p>
<img src="{}"/>
<span>Ei ei O.</span>
""".format(*expected_uris)

        from ..models import Document
        document = Document('mcdonald', content)

        self.assertEqual(len(document.references), 3)
        are_external = [r.remote_type == 'external'
                        for r in document.references]
        self.assertEqual([True, True, False], are_external)
        self.assertEqual(expected_uris, [r.uri for r in document.references])

        # reload the content
        document.content = content
        # update some references
        document.references[0].uri = 'https://example.com/people/old-mcdonald'
        self.assertTrue('<a href="https://example.com/people/old-mcdonald">'
                        in document.content)

    def test_document_w_bound_references(self):
        starting_uris = ["../resources/openstax.png",
                         "m23409.xhtml",
                         ]
        content = """\
<h1>Reference replacement test-case</h1>
<p>Link to <a href="{}">a local legacy module</a>.</p>
<img src="{}"/>
<p>Fin.</p>
""".format(*starting_uris)

        from ..models import Document
        document = Document('document', content)

        self.assertEqual(len(document.references), 2)
        are_external = [r.remote_type == 'external'
                        for r in document.references]
        self.assertEqual([False, False], are_external)
        self.assertEqual(starting_uris, [r.uri for r in document.references])

        # Now bind the model to the reference.
        resource_uri_tmplt = "/resources/{}"
        resource_name = '36ad78c3'
        resource = mock.Mock()
        resource.id = resource_name
        document.references[0].bind(resource, "/resources/{}")

        expected_uris = [
            resource_uri_tmplt.format(resource_name),
            starting_uris[1],
            ]
        self.assertEqual(expected_uris, [r.uri for r in document.references])

        # And change it the resource identifier
        changed_resource_name = 'smoo.png'
        resource.id = changed_resource_name
        expected_uris = [
            resource_uri_tmplt.format(changed_resource_name),
            starting_uris[1],
            ]
        self.assertEqual(expected_uris, [r.uri for r in document.references])

    def test_document_content(self):
        with open(
            os.path.join(TEST_DATA_DIR,
                         'fb74dc89-47d4-4e46-aac1-b8682f487bd5@1.json'),
                'r') as f:
            metadata = json.loads(f.read())
        from ..models import Document
        document = Document('document', metadata['content'])
        self.assertTrue('To demonstrate the potential of online publishing'
                        in document.content)
